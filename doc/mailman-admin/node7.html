<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<link href="mailman-admin.css" rel="STYLESHEET" type="text/css"/>
<link href="mailman-admin.html" rel="first" title="GNU mailman - list Administration Manual"/>
<link href="contents.html" rel="contents" title="Contents"/>
<link href="about.html" rel="last" title="About this document..."/>
<link href="about.html" rel="help" title="About this document..."/>
<link href="node6.html" rel="prev"/>
<link href="node3.html" rel="parent"/>
<link href="node8.html" rel="next"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="information" name="aesop"/>
<title>1.4 Basic Architectural Overview</title>
</head>
<body>
<div class="navigation">
<div id="top-navigation-panel" xml:id="top-navigation-panel">
<table aria-label="Table" role="table" style="border: 1px solid #ccc; border-collapse: collapse; width: 100%;">
<tr>
<td class="online-navigation" style="padding: 8px; border: 1px solid #ccc;"><a href="node6.html" rel="prev" title="1.3 a List's Web"><img alt="Previous Page" border="0" height="32" src="previous.png" width="32"/></a></td>
<td class="online-navigation" style="padding: 8px; border: 1px solid #ccc;"><a href="node3.html" rel="parent" title="1 introduction to GNU"><img alt="Up one Level" border="0" height="32" src="up.png" width="32"/></a></td>
<td class="online-navigation" style="padding: 8px; border: 1px solid #ccc;"><a href="node8.html" rel="next" title="2 the List Configuration"><img alt="Next Page" border="0" height="32" src="next.png" width="32"/></a></td>
<td align="center" style="padding: 8px; border: 1px solid #ccc;" width="100%">GNU Mailman - List Administration Manual</td>
<td class="online-navigation" style="padding: 8px; border: 1px solid #ccc;"><a href="contents.html" rel="contents" title="Table of Contents"><img alt="Contents" border="0" height="32" src="contents.png" width="32"/></a></td>
<td class="online-navigation" style="padding: 8px; border: 1px solid #ccc;"><img alt="" border="0" height="32" src="blank.png" width="32"/></td>
<td class="online-navigation" style="padding: 8px; border: 1px solid #ccc;"><img alt="" border="0" height="32" src="blank.png" width="32"/></td>
</tr></table>
<div class="online-navigation">
<b class="navlabel">Previous:</b>
<a class="sectref" href="node6.html" rel="prev">1.3 A List's Web</a>
<b class="navlabel">Up:</b>
<a class="sectref" href="node3.html" rel="parent">1 Introduction to GNU</a>
<b class="navlabel">Next:</b>
<a class="sectref" href="node8.html" rel="next">2 The List Configuration</a>
</div>
<hr/></div>
</div>
<!--End of Navigation Panel-->
<h2><a name="SECTION002140000000000000000">
1.4 Basic Architectural Overview</a>
</h2>
<p>
This section will outline the basic architecture of GNU Mailman, such
as how messages are processed by the sytem.  Without going into lots
of detail, this information will help you understand how the
configuration options control Mailman's functionality.

<p>
When mail enters the system from your mail server, it is dropped into
one of several Mailman <em>queues</em> depending on the address the
message was sent to.  For example, if your system has a mailing list
named <var>mylist</var> and your domain is <var>example.com</var>, people can
post messages to your list by sending them to
<var>mylist@example.com</var>.  These messages will be dropped into the
<em>incoming</em> queue, which is also colloquially called the
<em>moderate-and-munge</em> queue.  The incoming queue is where most of
the approval process occurs, and it's also where the message is
prepared for sending out to the list membership.

<p>
There are separate queues for the built-in archiver, the bounce
processor, the email command processor, as well as the outgoing email
and news queues.  There's also a queue for messages generated by the
Mailman system.  Each of these queues typically has one <em>queue
runner</em> (or ``qrunner'') that processes messages in the queue.  The
qrunners are idle when there are no messages to process.

<p>
Every message in the queues is represented by two files, a message
file and a metadata file.  Both of these files share the same base
name, which is a combination of a unique hash and the Unix time that
the message was received.  The metadata file has a suffix of
<span class="file">.db</span> and the message file has a suffix of either <span class="file">.msg</span> if
stored in plain text, or <span class="file">.pck</span> if stored in a more efficient
internal representation<a href="#foot39" name="tex2html1"><sup>1</sup></a>.

<p>
As a message moves through the incoming queue, it performs various
checks on the message, such as whether it matches one of the
moderation criteria, or contains disallowed MIME types.  Once a
message is approved for sending to the list membership, the message is
prepared for sending by deleting, adding, or changing message headers,
adding footers, etc.  Messages in the incoming queue may also be
stored for appending to digests.

<p>
<br/><hr/><h4>Footnotes</h4>
<dl>
<dt><a name="foot39">... representation</a><a href="node7.html#tex2html1"><sup>1</sup></a></dt>
<dd>Specifically, a Python pickle

</dd>
</dl>
<div class="navigation">
<div class="online-navigation">
<p></p><hr>
<table aria-label="Table" role="table" style="border: 1px solid #ccc; border-collapse: collapse; width: 100%;">
<tr>
<td class="online-navigation" style="padding: 8px; border: 1px solid #ccc;"><a href="node6.html" rel="prev" title="1.3 a List's Web"><img alt="Previous Page" border="0" height="32" src="previous.png" width="32"/></a></td>
<td class="online-navigation" style="padding: 8px; border: 1px solid #ccc;"><a href="node3.html" rel="parent" title="1 introduction to GNU"><img alt="Up one Level" border="0" height="32" src="up.png" width="32"/></a></td>
<td class="online-navigation" style="padding: 8px; border: 1px solid #ccc;"><a href="node8.html" rel="next" title="2 the List Configuration"><img alt="Next Page" border="0" height="32" src="next.png" width="32"/></a></td>
<td align="center" style="padding: 8px; border: 1px solid #ccc;" width="100%">GNU Mailman - List Administration Manual</td>
<td class="online-navigation" style="padding: 8px; border: 1px solid #ccc;"><a href="contents.html" rel="contents" title="Table of Contents"><img alt="Contents" border="0" height="32" src="contents.png" width="32"/></a></td>
<td class="online-navigation" style="padding: 8px; border: 1px solid #ccc;"><img alt="" border="0" height="32" src="blank.png" width="32"/></td>
<td class="online-navigation" style="padding: 8px; border: 1px solid #ccc;"><img alt="" border="0" height="32" src="blank.png" width="32"/></td>
</tr></table>
<div class="online-navigation">
<b class="navlabel">Previous:</b>
<a class="sectref" href="node6.html" rel="prev">1.3 A List's Web</a>
<b class="navlabel">Up:</b>
<a class="sectref" href="node3.html" rel="parent">1 Introduction to GNU</a>
<b class="navlabel">Next:</b>
<a class="sectref" href="node8.html" rel="next">2 The List Configuration</a>
</div>
</hr></div>
<hr/>
<span class="release-info">Release 2.1, documentation updated on January 11, 2020.</span>
</div>
<!--End of Navigation Panel-->
</p></p></p></p></p></p></body>
</html>
